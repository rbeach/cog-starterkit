{#
  Display each section, in order.

  The "root" element comes first in this loop, and can be detected using the
  "loop.first" variable as seen below.
#}
<div class="styleguide-sections">
{% for section in sections %}
  {% set sectionElement = loop.first ? 'div' : 'section' %}
  <{{ sectionElement }} id="kssref-{{ section.referenceURI }}" class="kss-section kss-section--depth-{{ section.depth }}">
  <div>
  {% set headerElement = (section.depth > 6) ? 'h6' : 'h' ~ section.depth %}
  <{{ headerElement }} class="kss-title kss-title--level-{{ section.depth }}">
  <a class="kss-title__permalink" href="#kssref-{{ section.referenceURI }}">
  <span class="kss-title__ref">
    {{ section.referenceNumber }}
    <span class="kss-title__permalink-hash">
      {{ hasNumericReferences ? '#permalink' : section.reference }}
    </span>
  </span>
    {{ section.header }}
  </a>
  </{{ headerElement }}>

  {% if section.description %}
    <div class="kss-description">
      {{ section.description|raw }}
    </div>
  {% endif %}

  {% for parameter in section.parameters %}
    {% if loop.first %}
      <div class="kss-parameters__title">Parameters:</div>
      <ul class="kss-parameters">
    {% endif %}
    <li class="kss-parameters__item">
      <div class="kss-parameters__name"><code>{{ parameter.name }}</code></div>
      <div class="kss-parameters__description">
        {{ parameter.description|raw }}
        {% if parameter.defaultValue %}
          <div class="kss-parameters__default-value">
            Defaults to: <code>{{ parameter.defaultValue }}</code>
          </div>
        {% endif %}
      </div>
    </li>
    {% if loop.last %}
      </ul>
    {% endif %}
  {% endfor %}
  </div>

  {% if section.example %}
    <div class="kss-modifier__wrapper">
      <div class="kss-modifier__heading">
        Example{% if section.modifiers is not empty %}s{% endif %}
      </div>


      <div class="kss-modifier__content">

        <div class="kss-modifier kss-modifier__default">
          {% if section.modifiers is not empty %}
            <div class="kss-modifier__default-name">
              Default styling
            </div>
            <div class="kss-modifier__description">Default style</div>
          {% endif %}

          <div class="kss-modifier__example">
            {{ section.example|raw }}
          </div>
        </div>


        {% for modifier in section.modifiers %}
          <div class="kss-modifier">
            <div class="kss-modifier__name">
              {{ modifier.name }}
            </div>
            <div class="kss-modifier__description">
              {{ modifier.description|raw }}
            </div>
            <div class="kss-modifier__example">
              {{ modifier.markup|raw }}
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
    {% if section.markup %}
      <div class="kss-markup hide" style="display: none;">
        <pre class="prettyprint linenums lang-html"><code data-language="html">{{ section.markup|escape('html') }}</code></pre>
      </div>
    {% endif %}
  {% endif %}

  {% if section.sourceFile.name %}
    <div class="kss-source" class="hidden" style="display: none;">
      Source: <code>{{ section.sourceFile.name }}</code>, line {{ section.sourceFile.line }}
    </div>
  {% endif %}
  </{{ sectionElement }}>
{% endfor %}
</div>